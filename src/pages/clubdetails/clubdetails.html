<ion-header>

  <ion-navbar color="clubgreen">
    <ion-title>{{club?.name}}的主页</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div class="card-background-page">
    <ion-card>
      <img src="{{club?.icon}}" />
      <div class="card-title">{{club?.name}}</div>
      <div class="card-subtitle">{{club?.member_count}}个成员</div>
      <div class="card-subscribe">{{club?.brief}}</div>
      <div class="card-button">
        <button ion-button color="clubgreen" (click)="join()">加 入</button>
      </div>
    </ion-card>
  </div>

  <ion-card *ngFor="let p of passages">
    <ion-item>
      <ion-avatar item-start>
        <img src="{{p.user_icon}}">
  
      </ion-avatar>
      <p class="username">{{p.author_name}}
        <span class="time">{{p.created_at| date:"yyyy-MM-dd HH:mm"}}</span>
      </p>
    </ion-item>
  
    <ion-card-content (click)=gotoDetails(p.id)>
      <p class="part">{{p.body}}</p>
    </ion-card-content>
    <ion-row>
      <ion-col col-8>
        <button ion-button icon-left clear color="light-dark" (click)=like(p.id,p)>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{p.likes}}</div>
        </button>
      </ion-col>
      <ion-col col-2>
        <button ion-button icon-left clear color="light-dark" (click)="showCommentPage(p.id)">
          <ion-icon name="text"></ion-icon>
          <div>{{p.comments_count}}</div>
        </button>
      </ion-col>
      <ion-col col-2>
        <button ion-button clear color="light-dark">
          <ion-icon name="share"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </ion-card>

</ion-content>
